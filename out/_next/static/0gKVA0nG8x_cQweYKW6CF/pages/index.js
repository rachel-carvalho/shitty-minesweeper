(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/0+H":function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n("q1tI")),a=n("lwAK");function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ampFirst,n=void 0!==e&&e,r=t.hybrid,o=void 0!==r&&r,a=t.hasQuery;return n||o&&(void 0!==a&&a)}e.isInAmpMode=i,e.useAmp=function(){return i(o.default.useContext(a.AmpStateContext))}},"1OyB":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},"2g0B":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("79zj")}])},"79zj":function(t,e,n){"use strict";n.r(e),function(t){var r=n("KQm4"),o=n("rePB"),a=n("ODXe"),i=n("1OyB"),u=n("vuIU"),s=n("Ji7U"),c=n("md7G"),l=n("foSv"),f=n("q1tI"),h=n.n(f),p=n("x+Gp"),d=h.a.createElement;function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(l.a)(t);if(e){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}e.default=function(e){Object(s.a)(c,e);var n=v(c);function c(){return Object(i.a)(this,c),n.apply(this,arguments)}return Object(u.a)(c,[{key:"parseSearch",value:function(){var e,n,i,u,s,c,l=this.props;return i=l.defaultRows,n=l.defaultColumns,e=l.customBombs,(null!=(s=t.location)?s.search:void 0)&&(i||n||e)?(u=location.search.substring(1).split("&").map((function(t){var e,n,r=t.split("="),i=Object(a.a)(r,2);return e=i[0],n=i[1],Object(o.a)({},"".concat(e),n)})),c=Object.assign.apply(Object,Object(r.a)(u)),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.props,{},c)):this.props}},{key:"render",value:function(){var t,e,n,r,o=this.parseSearch();return r=o.rows,e=o.columns,t=(n=o.customBombs)?parseInt(n):Math.round(e*r*.18),d(p.a,{rows:r,columns:e,bombs:t})}}],[{key:"getInitialProps",value:function(t){var e=t.query;t.req;return{rows:(null!=e?e.rows:void 0)||15,columns:(null!=e?e.columns:void 0)||10,customBombs:null!=e?e.bombs:void 0,defaultRows:!(null!=e?e.rows:void 0),defaultColumns:!(null!=e?e.columns:void 0)}}}]),c}(f.Component)}.call(this,n("yLpj"))},"8Kt/":function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n("q1tI")),a=r(n("Xuae")),i=n("lwAK"),u=n("FYa8"),s=n("/0+H");function c(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[o.default.createElement("meta",{charSet:"utf-8"})];return t||e.push(o.default.createElement("meta",{name:"viewport",content:"width=device-width"})),e}function l(t,e){return"string"===typeof e||"number"===typeof e?t:e.type===o.default.Fragment?t.concat(o.default.Children.toArray(e.props.children).reduce((function(t,e){return"string"===typeof e||"number"===typeof e?t:t.concat(e)}),[])):t.concat(e)}e.defaultHead=c;var f=["name","httpEquiv","charSet","itemProp"];function h(t,e){return t.reduce((function(t,e){var n=o.default.Children.toArray(e.props.children);return t.concat(n)}),[]).reduce(l,[]).reverse().concat(c(e.inAmpMode)).filter(function(){var t=new Set,e=new Set,n=new Set,r={};return function(o){var a=!0;if(o.key&&"number"!==typeof o.key&&o.key.indexOf("$")>0){var i=o.key.slice(o.key.indexOf("$")+1);t.has(i)?a=!1:t.add(i)}switch(o.type){case"title":case"base":e.has(o.type)?a=!1:e.add(o.type);break;case"meta":for(var u=0,s=f.length;u<s;u++){var c=f[u];if(o.props.hasOwnProperty(c))if("charSet"===c)n.has(c)?a=!1:n.add(c);else{var l=o.props[c],h=r[c]||new Set;h.has(l)?a=!1:(h.add(l),r[c]=h)}}}return a}}()).reverse().map((function(t,e){var n=t.key||e;return o.default.cloneElement(t,{key:n})}))}var p=a.default();function d(t){var e=t.children;return o.default.createElement(i.AmpStateContext.Consumer,null,(function(t){return o.default.createElement(u.HeadManagerContext.Consumer,null,(function(n){return o.default.createElement(p,{reduceComponentsToState:h,handleStateChange:n,inAmpMode:s.isInAmpMode(t)},e)}))}))}d.rewind=p.rewind,e.default=d},Bnag:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},EbDI:function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},FZuZ:function(t,e,n){"use strict";var r=n("1OyB"),o=n("vuIU"),a=n("JX7q"),i=n("Ji7U"),u=n("md7G"),s=n("foSv"),c=n("q1tI"),l=n.n(c).a.createElement;function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(s.a)(t);if(e){var o=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var h=function(t,e){if(!(t instanceof e))throw new Error("Bound instance method accessed before binding")};e.a=function(t){Object(i.a)(n,t);var e=f(n);function n(t){var o;return Object(r.a)(this,n),(o=e.call(this,t)).calculateTime=o.calculateTime.bind(Object(a.a)(o)),o.handleRestart=o.handleRestart.bind(Object(a.a)(o)),o.state={elapsed:0},o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){return this.intervalID=setInterval(this.calculateTime,1e3)}},{key:"componentWillUnmount",value:function(){return clearInterval(this.intervalID)}},{key:"calculateTime",value:function(){var t;return h(this,n),this.props.startedAt?(t=(this.props.endedAt||new Date)-this.props.startedAt,this.setState({elapsed:Math.round(t/1e3)})):this.setState({elapsed:0})}},{key:"handleRestart",value:function(){return h(this,n),this.setState({elapsed:0}),this.props.onRestart()}},{key:"render",value:function(){var t,e,n,r,o,a,i,u,s=this.props;return e=s.bombs,a=s.foundBombs,o=s.flagging,n=s.dead,u=s.won,t=s.best,i=s.onFlagToggle,r=this.state.elapsed,l("div",{id:"toolbar"},l("span",{id:"bombs"},(e-a).toString().padStart(e.toString().length,0)),l("button",{onClick:this.handleRestart},n?"\ud83d\ude35":u?"\ud83d\ude0e":"\ud83d\ude42"),l("button",{onClick:i},o?"\ud83d\udea9":"\ud83d\udca3"),l("time",null,r.toString().padStart(3,0)),t?l("span",{id:"best"},"Best: ",t.elapsed):void 0)}}]),n}(c.Component)},"Gqi+":function(t,e,n){"use strict";var r=n("KQm4"),o=n("ODXe"),a=n("1OyB"),i=n("vuIU"),u=n("JX7q"),s=n("Ji7U"),c=n("md7G"),l=n("foSv");Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function t(){var e=isNaN(arguments[0])?1:Number(arguments[0]);return e?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,t.call(r,e-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(t){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var f=n("q1tI"),h=n.n(f),p=h.a.createElement;function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(l.a)(t);if(e){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var b=function(t,e){if(!(t instanceof e))throw new Error("Bound instance method accessed before binding")},v=function(t){Object(s.a)(n,t);var e=d(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).componentDidUpdate=r.componentDidUpdate.bind(Object(u.a)(r)),r.handleClick=r.handleClick.bind(Object(u.a)(r)),r.initialState={open:!1,flagged:!1,exploded:!1},r.state=r.initialState,r}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(t){if(b(this,n),t.game!==this.props.game)return this.setState(this.initialState)}},{key:"handleClick",value:function(){var t,e,r,o;b(this,n);var a=this.props;if(t=a.dead,o=a.opened,r=a.flagging,e=this.state.flagged,!t&&(!e||r))return o||this.state.open?this.expand():r?this.flag():this.open()}},{key:"expand",value:function(){var t,e,n,r=this.props;return n=r.row,t=r.column,e=r.neighbors,(0,r.onExpand)(n,t,e)}},{key:"flag",value:function(){var t,e,n,r=this.props;return n=r.row,t=r.column,e=r.onFlag,this.setState((function(r){var o;return o=!r.flagged,e(n,t,o),{flagged:o}}))}},{key:"open",value:function(){var t,e,n,r,o,a=this.props;return o=a.row,e=a.column,t=a.bomb,n=a.onDeath,r=a.onOpen,this.setState({open:!0}),t?(this.setState({exploded:!0}),n(o,e)):r(o,e)}},{key:"render",value:function(){var t,e,n,r,o,a,i,u,s=this.props;s.row,s.column,t=s.bomb,a=s.neighbors,n=s.dead,u=s.opened;var c=this.state;return i=c.open,o=c.flagged,r=c.exploded,e=[],((i=i||u)||r||n&&t&&!o)&&e.push("open"),n&&o&&!t&&e.push("wrong-flag"),a&&e.push("neighbor"),a&&e.push("neighbor-".concat(a)),p("button",{onClick:this.handleClick,className:e.join(" ")},i&&a?a:void 0,!i&&!n||!t||r||o?void 0:"\ud83d\udca3",o?"\ud83d\udea9":void 0,r?"\ud83d\udca5":void 0)}}]),n}(f.Component),y=h.a.createElement;function m(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(l.a)(t);if(e){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var g=function(t,e){if(!(t instanceof e))throw new Error("Bound instance method accessed before binding")};e.a=function(t){Object(s.a)(n,t);var e=m(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).componentDidUpdate=r.componentDidUpdate.bind(Object(u.a)(r)),r.handleOpen=r.handleOpen.bind(Object(u.a)(r)),r.handleFlag=r.handleFlag.bind(Object(u.a)(r)),r.handleDeath=r.handleDeath.bind(Object(u.a)(r)),r.handleExpand=r.handleExpand.bind(Object(u.a)(r)),r.initialState={distributed:!1,bombLocations:[],dead:!1,opened:[],flagged:[],game:""},r.state=r.initialState,r.recentlyOpened=[],r.couldHaveWon=!1,r}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(t){var e,r;if(g(this,n),t.started&&!this.props.started)return this.reset();if(this.firstOpening){var a=Object(o.a)(this.firstOpening,2);return r=a[0],e=a[1],this.firstOpening=null,this.handleOpen(r,e)}return this.cascadeOpening(),this.checkIfWon()}},{key:"reset",value:function(){return this.recentlyOpened=[],this.firstOpening=null,this.couldHaveWon=!1,this.setState(this.initialState)}},{key:"distribute",value:function(t,e){var n,r,a,i,u,s,c=this.props;return s=c.rows,i=c.columns,a=c.bombs,n=function(){for(var t=[],e=0;0<=s?e<s:e>s;0<=s?e++:e--)t.push(e);return t}.apply(this).map((function(t){return function(){for(var t=[],e=0;0<=i?e<i:e>i;0<=i?e++:e--)t.push(e);return t}.apply(this).map((function(e){return[t,e]}))})).flat().filter((function(n){var r,a,i=Object(o.a)(n,2);return a=i[0],r=i[1],a<t-1||a>t+1||r<e-1||r>e+1})),r=[],function(){for(var t=[],e=0;0<=a?e<a:e>a;0<=a?e++:e--)t.push(e);return t}.apply(this).forEach((function(){var t;return t=Math.round(Math.random()*(n.length-1)),r.push(n.splice(t,1)[0])})),r.sort((function(t,e){return"".concat(t[0],", ").concat(t[1])-"".concat(e[0],", ").concat(e[1])})),u=new Date,this.setState({distributed:!0,game:u,bombLocations:r}),this.props.onStart(u)}},{key:"bomb",value:function(t,e){return this.state.bombLocations.some((function(n){return n[0]===t&&n[1]===e}))}},{key:"neighbors",value:function(t,e){var n=this;if(!this.bomb(t,e))return this.surrounding(t,e).filter((function(t){return n.bomb.apply(n,Object(r.a)(t))})).length}},{key:"surrounding",value:function(t,e){var n,r,o,a=this.props;return o=a.rows,n=a.columns,function(){for(var e=[],n=r=t-1,o=t+1;r<=o?n<=o:n>=o;r<=o?n++:n--)e.push(n);return e}.apply(this).filter((function(t){return t>=0&&t<o})).map((function(t){var r;return function(){for(var t=[],n=r=e-1,o=e+1;r<=o?n<=o:n>=o;r<=o?n++:n--)t.push(n);return t}.apply(this).filter((function(t){return t>=0&&t<n})).map((function(e){return[t,e]}))})).flat()}},{key:"handleOpen",value:function(t,e){var r=this;return g(this,n),this.state.distributed?this.setState((function(n){var o;if(!n.opened.some((function(n){return n[0]===t&&n[1]===e})))return(o=n.opened.slice(0)).push([t,e]),r.recentlyOpened.push([t,e]),{opened:o}})):(this.distribute(t,e),this.firstOpening=[t,e])}},{key:"cascadeOpening",value:function(){var t,e,n,a,i,u=this;for(n=[];(e=this.recentlyOpened.shift())&&e;){var s=e,c=Object(o.a)(s,2);a=c[0],t=c[1],this.neighbors(a,t)?n.push(void 0):(i=this.surrounding(a,t),n.push(i.forEach((function(t){return u.handleOpen.apply(u,Object(r.a)(t))}))))}return n}},{key:"handleFlag",value:function(t,e,r){var o,a;g(this,n);var i=this.props;return o=i.onFlagAdded,a=i.onFlagRemoved,this.setState((function(n){var i;return i=n.flagged.slice(0),r?(i.push([t,e]),o(),this.couldHaveWon=!0):(i=i.filter((function(n){return n[0]!==t||n[1]!==e})),a()),{flagged:i}}))}},{key:"handleDeath",value:function(){return g(this,n),this.setState({dead:!0}),this.props.onDeath()}},{key:"opened",value:function(t,e){return this.state.opened.some((function(n){return n[0]===t&&n[1]===e}))}},{key:"flagged",value:function(t,e){return this.state.flagged.some((function(n){return n[0]===t&&n[1]===e}))}},{key:"handleExpand",value:function(t,e,o){var a,i,u=this;if(g(this,n),(i=(a=this.surrounding(t,e)).filter((function(t){return!u.flagged.apply(u,Object(r.a)(t))}))).length===a.length-o)return i.forEach((function(t){return u.bomb.apply(u,Object(r.a)(t))?u.handleDeath():(u.handleOpen.apply(u,Object(r.a)(t)),u.couldHaveWon=!0)}))}},{key:"checkIfWon",value:function(){var t,e;if(!this.props.won&&this.couldHaveWon)return t=this.state.flagged.length===this.props.bombs,e=this.state.opened.length===this.props.rows*this.props.columns-this.props.bombs,t&&e?this.props.onWin():void 0}},{key:"render",value:function(){var t,e,n,r,o,a=this,i=this.props;o=i.rows,t=i.columns,n=i.flagging;var u=this.state;return e=u.dead,r=u.game,y("div",{id:"board"},function(){for(var t=[],e=0;0<=o?e<o:e>o;0<=o?e++:e--)t.push(e);return t}.apply(this).map((function(o){return y("div",{className:"row",key:o},function(){for(var e=[],n=0;0<=t?n<t:n>t;0<=t?n++:n--)e.push(n);return e}.apply(a).map((function(t){return y(v,{key:t,row:o,column:t,flagging:n,bomb:a.bomb(o,t),opened:a.opened(o,t),dead:e,neighbors:a.neighbors(o,t),game:r,onFlag:a.handleFlag,onOpen:a.handleOpen,onExpand:a.handleExpand,onDeath:a.handleDeath})})))})))}}]),n}(f.Component)},Ijbi:function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},JX7q:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},Ji7U:function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",(function(){return o}))},KQm4:function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",(function(){return r}))},ODXe:function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(s){o=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"a",(function(){return r}))},RIqP:function(t,e,n){var r=n("Ijbi"),o=n("EbDI"),a=n("Bnag");t.exports=function(t){return r(t)||o(t)||a()}},Xuae:function(t,e,n){"use strict";var r=n("lwsE"),o=n("PJYZ"),a=n("W8MJ"),i=n("7W2i"),u=n("a1gu"),s=n("Nsbk"),c=n("RIqP");function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}Object.defineProperty(e,"__esModule",{value:!0});var f=n("q1tI"),h=!1;e.default=function(){var t,e=new Set;function n(n){t=n.props.reduceComponentsToState(c(e),n.props),n.props.handleStateChange&&n.props.handleStateChange(t)}return(function(u){i(c,u);var s=l(c);function c(t){var a;return r(this,c),a=s.call(this,t),h&&(e.add(o(a)),n(o(a))),a}return a(c,null,[{key:"rewind",value:function(){var n=t;return t=void 0,e.clear(),n}}]),a(c,[{key:"componentDidMount",value:function(){e.add(this),n(this)}},{key:"componentDidUpdate",value:function(){n(this)}},{key:"componentWillUnmount",value:function(){e.delete(this),n(this)}},{key:"render",value:function(){return null}}]),c}(f.Component))}},YFqc:function(t,e,n){t.exports=n("cTJO")},cTJO:function(t,e,n){"use strict";var r=n("lwsE"),o=n("W8MJ"),a=n("7W2i"),i=n("a1gu"),u=n("Nsbk");function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}var c=n("TqRt"),l=n("284h");e.__esModule=!0,e.default=void 0;var f,h=l(n("q1tI")),p=n("QmWs"),d=n("g/15"),b=c(n("nOHt")),v=n("elyg");function y(t){return t&&"object"===typeof t?(0,d.formatWithValidation)(t):t}var m=new Map,g=window.IntersectionObserver,O={};function w(){return f||(g?f=new g((function(t){t.forEach((function(t){if(m.has(t.target)){var e=m.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&(f.unobserve(t.target),m.delete(t.target),e())}}))}),{rootMargin:"200px"}):void 0)}var j=function(t){a(n,t);var e=s(n);function n(t){var o;return r(this,n),(o=e.call(this,t)).p=void 0,o.cleanUpListeners=function(){},o.formatUrls=function(t){var e=null,n=null,r=null;return function(o,a){if(r&&o===e&&a===n)return r;var i=t(o,a);return e=o,n=a,r=i,i}}((function(t,e){return{href:(0,v.addBasePath)(y(t)),as:e?(0,v.addBasePath)(y(e)):e}})),o.linkClicked=function(t){var e=t.currentTarget,n=e.nodeName,r=e.target;if("A"!==n||!(r&&"_self"!==r||t.metaKey||t.ctrlKey||t.shiftKey||t.nativeEvent&&2===t.nativeEvent.which)){var a=o.formatUrls(o.props.href,o.props.as),i=a.href,u=a.as;if(function(t){var e=(0,p.parse)(t,!1,!0),n=(0,p.parse)((0,d.getLocationOrigin)(),!1,!0);return!e.host||e.protocol===n.protocol&&e.host===n.host}(i)){var s=window.location.pathname;i=(0,p.resolve)(s,i),u=u?(0,p.resolve)(s,u):i,t.preventDefault();var c=o.props.scroll;null==c&&(c=u.indexOf("#")<0),b.default[o.props.replace?"replace":"push"](i,u,{shallow:o.props.shallow}).then((function(t){t&&c&&(window.scrollTo(0,0),document.body.focus())}))}}},o.p=!1!==t.prefetch,o}return o(n,[{key:"componentWillUnmount",value:function(){this.cleanUpListeners()}},{key:"getPaths",value:function(){var t=window.location.pathname,e=this.formatUrls(this.props.href,this.props.as),n=e.href,r=e.as,o=(0,p.resolve)(t,n);return[o,r?(0,p.resolve)(t,r):o]}},{key:"handleRef",value:function(t){var e=this;this.p&&g&&t&&t.tagName&&(this.cleanUpListeners(),O[this.getPaths().join("%")]||(this.cleanUpListeners=function(t,e){var n=w();return n?(n.observe(t),m.set(t,e),function(){try{n.unobserve(t)}catch(e){console.error(e)}m.delete(t)}):function(){}}(t,(function(){e.prefetch()}))))}},{key:"prefetch",value:function(t){if(this.p){var e=this.getPaths();b.default.prefetch(e[0],e[1],t).catch((function(t){0})),O[e.join("%")]=!0}}},{key:"render",value:function(){var t=this,e=this.props.children,n=this.formatUrls(this.props.href,this.props.as),r=n.href,o=n.as;"string"===typeof e&&(e=h.default.createElement("a",null,e));var a=h.Children.only(e),i={ref:function(e){t.handleRef(e),a&&"object"===typeof a&&a.ref&&("function"===typeof a.ref?a.ref(e):"object"===typeof a.ref&&(a.ref.current=e))},onMouseEnter:function(e){a.props&&"function"===typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),t.prefetch({priority:!0})},onClick:function(e){a.props&&"function"===typeof a.props.onClick&&a.props.onClick(e),e.defaultPrevented||t.linkClicked(e)}};return!this.props.passHref&&("a"!==a.type||"href"in a.props)||(i.href=o||r),h.default.cloneElement(a,i)}}]),n}(h.Component);e.default=j},foSv:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return r}))},lwAK:function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n("q1tI"));e.AmpStateContext=o.createContext({})},md7G:function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}n.d(e,"a",(function(){return i}));var a=n("JX7q");function i(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?Object(a.a)(t):e}},oJTh:function(t,e,n){"use strict";var r=n("1OyB"),o=n("vuIU"),a=n("JX7q"),i=n("Ji7U"),u=n("md7G"),s=n("foSv"),c=n("q1tI"),l=n.n(c),f=n("YFqc"),h=n.n(f),p=n("nOHt"),d=n.n(p),b=l.a.createElement;function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(s.a)(t);if(e){var o=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var y=function(t,e){if(!(t instanceof e))throw new Error("Bound instance method accessed before binding")};e.a=function(t){Object(i.a)(n,t);var e=v(n);function n(t){var o;return Object(r.a)(this,n),(o=e.call(this,t)).handleRowsChange=o.handleRowsChange.bind(Object(a.a)(o)),o.handleColumnsChange=o.handleColumnsChange.bind(Object(a.a)(o)),o.handleBombsChange=o.handleBombsChange.bind(Object(a.a)(o)),o.handleSubmit=o.handleSubmit.bind(Object(a.a)(o)),o.state={rows:null,columns:null,bombs:null},o}return Object(o.a)(n,[{key:"handleRowsChange",value:function(t){return y(this,n),this.setState({rows:t.target.value})}},{key:"handleColumnsChange",value:function(t){return y(this,n),this.setState({columns:t.target.value})}},{key:"handleBombsChange",value:function(t){return y(this,n),this.setState({bombs:t.target.value})}},{key:"handleSubmit",value:function(t){var e,r,o,a;y(this,n),t.preventDefault();var i=this.currentValues();return a=i.rows,r=i.columns,e=i.bombs,o="/?rows=".concat(a,"&columns=").concat(r,"&bombs=").concat(e),d.a.push(o,"/shitty-minesweeper"+o)}},{key:"currentValues",value:function(){var t,e,n,r=this.state;return n=r.rows,e=r.columns,t=r.bombs,null==n&&(n=this.props.rows),null==e&&(e=this.props.columns),t||(t=n&&e?Math.round(n*e*.18):""),{rows:n,columns:e,bombs:t}}},{key:"render",value:function(){var t,e,n,r,o;n=this.props.onClose;var a=this.currentValues();return o=a.rows,e=a.columns,t=a.bombs,r="".concat("/shitty-minesweeper","/"),b("section",{id:"settings"},b("h1",null,"Settings",b("button",{className:"close",onClick:n},"\u2715")),b("form",{onSubmit:this.handleSubmit},b("fieldset",null,b("legend",null,"Board size"),b("div",{className:"field"},b("label",{htmlFor:"rows"},"Rows: "),b("input",{id:"rows",name:"rows",type:"number",value:o,onChange:this.handleRowsChange})),b("div",{className:"field"},b("label",{htmlFor:"columns"},"Columns: "),b("input",{id:"columns",name:"columns",type:"number",value:e,onChange:this.handleColumnsChange})),b("div",{className:"field"},b("label",{htmlFor:"bombs"},"Bombs: "),b("input",{id:"bombs",name:"bombs",type:"number",value:t,onChange:this.handleBombsChange})),b("div",{className:"actions"},b(h.a,{href:"/",as:r},b("a",null,"Use defaults")),b("button",null,"Save")))))}}]),n}(c.Component)},rePB:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},vuIU:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return o}))},wx14:function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return r}))},"x+Gp":function(t,e,n){"use strict";(function(t){var r=n("wx14"),o=n("rePB"),a=n("1OyB"),i=n("vuIU"),u=n("JX7q"),s=n("Ji7U"),c=n("md7G"),l=n("foSv"),f=n("q1tI"),h=n.n(f),p=n("8Kt/"),d=n.n(p),b=n("FZuZ"),v=n("Gqi+"),y=n("oJTh"),m=(n("GNBN"),h.a.createElement);function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(l.a)(t);if(e){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var j=function(t,e){if(!(t instanceof e))throw new Error("Bound instance method accessed before binding")};e.a=function(e){Object(s.a)(o,e);var n=w(o);function o(){var t;return Object(a.a)(this,o),(t=n.call(this)).handleRestart=t.handleRestart.bind(Object(u.a)(t)),t.handleStart=t.handleStart.bind(Object(u.a)(t)),t.handleFlagToggle=t.handleFlagToggle.bind(Object(u.a)(t)),t.handleFlagAdded=t.handleFlagAdded.bind(Object(u.a)(t)),t.handleFlagRemoved=t.handleFlagRemoved.bind(Object(u.a)(t)),t.handleDeath=t.handleDeath.bind(Object(u.a)(t)),t.handleWin=t.handleWin.bind(Object(u.a)(t)),t.handleViewSettingsClick=t.handleViewSettingsClick.bind(Object(u.a)(t)),t.handleCloseSettings=t.handleCloseSettings.bind(Object(u.a)(t)),t.initialState={started:!1,flagging:!1,foundBombs:0,dead:!1,startedAt:null,endedAt:null,won:!1,best:null,settings:!1},t.state=O({},t.initialState),t}return Object(i.a)(o,[{key:"componentDidMount",value:function(){return this.setState({best:this.best()})}},{key:"handleRestart",value:function(){return j(this,o),this.setState(O({},this.initialState,{best:this.best()}))}},{key:"handleStart",value:function(t){return j(this,o),this.setState({started:!0,startedAt:t})}},{key:"handleFlagToggle",value:function(){return j(this,o),this.setState((function(t){return{flagging:!t.flagging}}))}},{key:"handleFlagAdded",value:function(){return j(this,o),this.setState((function(t){return{foundBombs:t.foundBombs+1}}))}},{key:"handleFlagRemoved",value:function(){return j(this,o),this.setState((function(t){return{foundBombs:t.foundBombs-1}}))}},{key:"handleDeath",value:function(){return j(this,o),this.setState({dead:!0,endedAt:new Date})}},{key:"storage",value:function(){return t.localStorage||{}}},{key:"handleWin",value:function(){var t;return j(this,o),t=new Date,this.saveTime(t),this.setState({won:!0,endedAt:t,best:this.best()})}},{key:"saveTime",value:function(t){var e,n,r,o,a,i,u=this.props;return i=u.rows,n=u.columns,e=u.bombs,r={startedAt:this.state.startedAt,endedAt:t},(a=this.records())[o="".concat(i,"x").concat(n,"_").concat(e)]||(a[o]=[]),a["".concat(i,"x").concat(n,"_").concat(e)].push(r),this.storage().shittyMinesweeper=JSON.stringify(a)}},{key:"records",value:function(){var t,e,n;if(!this.storage().shittyMinesweeper)return{};for(n in e=JSON.parse(this.storage().shittyMinesweeper),e)(t=e[n]).forEach((function(t){var e;return t.startedAt=new Date(Date.parse(t.startedAt)),t.endedAt=new Date(Date.parse(t.endedAt)),e=t.endedAt-t.startedAt,t.elapsed=Math.round(e/1e3)})),t.sort((function(t,e){return t.elapsed-e.elapsed}));return e}},{key:"best",value:function(){var t,e,n,r=this.props;return n=r.rows,e=r.columns,t=r.bombs,(this.records()["".concat(n,"x").concat(e,"_").concat(t)]||[])[0]}},{key:"handleViewSettingsClick",value:function(){return j(this,o),this.setState({settings:!0})}},{key:"handleCloseSettings",value:function(){return j(this,o),this.setState({settings:!1})}},{key:"render",value:function(){var t,e,n,o,a,i,u,s,c,l,h,p,g=this.state;l=g.started,h=g.startedAt,a=g.endedAt,i=g.flagging,u=g.foundBombs,o=g.dead,p=g.won,t=g.best,c=g.settings;var O=this.props;return s=O.rows,n=O.columns,e=O.bombs,m(f.Fragment,null,m(d.a,null,m("title",null,"Shitty Minesweeper"),m("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})),c?m(y.a,Object(r.a)({},this.props,{onClose:this.handleCloseSettings})):m(f.Fragment,null,m("button",{id:"view-settings",onClick:this.handleViewSettingsClick},"\u2699\ufe0f"),m(b.a,{bombs:e,foundBombs:u,startedAt:h,endedAt:a,flagging:i,dead:o,won:p,best:t,onRestart:this.handleRestart,onFlagToggle:this.handleFlagToggle}),m(v.a,{flagging:i,rows:s,columns:n,bombs:e,started:l,won:p,onFlagAdded:this.handleFlagAdded,onStart:this.handleStart,onFlagRemoved:this.handleFlagRemoved,onDeath:this.handleDeath,onWin:this.handleWin})))}}]),o}(f.Component)}).call(this,n("yLpj"))},yLpj:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n}},[["2g0B",0,2,1,8]]]);