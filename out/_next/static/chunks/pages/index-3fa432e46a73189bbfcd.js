_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[6],{"/0+H":function(e,t,n){"use strict";t.__esModule=!0,t.isInAmpMode=i,t.useAmp=function(){return i(a.default.useContext(o.AmpStateContext))};var r,a=(r=n("q1tI"))&&r.__esModule?r:{default:r},o=n("lwAK");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,n=void 0!==t&&t,r=e.hybrid,a=void 0!==r&&r,o=e.hasQuery,i=void 0!==o&&o;return n||a&&i}},"1OyB":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},"6mSP":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("79zj")}])},"79zj":function(e,t,n){"use strict";n.r(t),function(e){var r=n("KQm4"),a=n("rePB"),o=n("ODXe"),i=n("1OyB"),s=n("JX7q"),u=n("vuIU"),c=n("Ji7U"),l=n("md7G"),f=n("foSv"),d=n("q1tI"),h=n.n(d),p=n("x+Gp"),b=n("nOHt"),v=n.n(b),y=h.a.createElement;function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}t.default=function(t){Object(c.a)(l,t);var n=O(l);function l(){var e;return Object(i.a)(this,l),(e=n.call(this)).handleRouteChangeComplete=e.handleRouteChangeComplete.bind(Object(s.a)(e)),v.a.events.on("routeChangeComplete",e.handleRouteChangeComplete),e}return Object(u.a)(l,null,[{key:"getInitialProps",value:function(e){var t=e.query;e.req;return{rows:(null!=t?t.rows:void 0)||15,columns:(null!=t?t.columns:void 0)||10,bombs:null!=t?t.bombs:void 0}}}]),Object(u.a)(l,[{key:"parseSearch",value:function(){var t,n,i;return(null!=(n=e.location)?n.search:void 0)?(t=location.search.substring(1).split("&").map((function(e){var t,n,r=e.split("="),i=Object(o.a)(r,2);return t=i[0],n=i[1],Object(a.a)({},"".concat(t),n)})),i=Object.assign.apply(Object,Object(r.a)(t)),g(g({},this.props),i)):this.props}},{key:"handleRouteChangeComplete",value:function(e){return function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}(this,l),this.setState(this.parseSearch())}},{key:"render",value:function(){var e,t,n,r,a=this.state||this.parseSearch();return r=a.rows,t=a.columns,e=(n=a.bombs)?parseInt(n):Math.round(t*r*.18),y(p.a,{rows:r,columns:t,bombs:e})}}]),l}(d.Component)}.call(this,n("yLpj"))},"8Kt/":function(e,t,n){"use strict";n("lSNA");t.__esModule=!0,t.defaultHead=l,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n("q1tI")),o=(r=n("Xuae"))&&r.__esModule?r:{default:r},i=n("lwAK"),s=n("FYa8"),u=n("/0+H");function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[a.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(a.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function f(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===a.default.Fragment?e.concat(a.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}var d=["name","httpEquiv","charSet","itemProp"];function h(e,t){return e.reduce((function(e,t){var n=a.default.Children.toArray(t.props.children);return e.concat(n)}),[]).reduce(f,[]).reverse().concat(l(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,n=new Set,r={};return function(a){var o=!0;if(a.key&&"number"!==typeof a.key&&a.key.indexOf("$")>0){var i=a.key.slice(a.key.indexOf("$")+1);e.has(i)?o=!1:e.add(i)}switch(a.type){case"title":case"base":t.has(a.type)?o=!1:t.add(a.type);break;case"meta":for(var s=0,u=d.length;s<u;s++){var c=d[s];if(a.props.hasOwnProperty(c))if("charSet"===c)n.has(c)?o=!1:n.add(c);else{var l=a.props[c],f=r[c]||new Set;f.has(l)?o=!1:(f.add(l),r[c]=f)}}}return o}}()).reverse().map((function(e,t){var n=e.key||t;return a.default.cloneElement(e,{key:n})}))}function p(e){var t=e.children,n=(0,a.useContext)(i.AmpStateContext),r=(0,a.useContext)(s.HeadManagerContext);return a.default.createElement(o.default,{reduceComponentsToState:h,headManager:r,inAmpMode:(0,u.isInAmpMode)(n)},t)}p.rewind=function(){};var b=p;t.default=b},Bnag:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},BsWD:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("a3WO");function a(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},EbDI:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},FZuZ:function(e,t,n){"use strict";var r=n("1OyB"),a=n("vuIU"),o=n("JX7q"),i=n("Ji7U"),s=n("md7G"),u=n("foSv"),c=n("q1tI"),l=n.n(c).a.createElement;function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var d=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};t.a=function(e){Object(i.a)(n,e);var t=f(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).calculateTime=a.calculateTime.bind(Object(o.a)(a)),a.handleRestart=a.handleRestart.bind(Object(o.a)(a)),a.state={elapsed:0},a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){return this.intervalID=setInterval(this.calculateTime,1e3)}},{key:"componentWillUnmount",value:function(){return clearInterval(this.intervalID)}},{key:"calculateTime",value:function(){var e;return d(this,n),this.props.startedAt?(e=(this.props.endedAt||new Date)-this.props.startedAt,this.setState({elapsed:Math.round(e/1e3)})):this.setState({elapsed:0})}},{key:"handleRestart",value:function(){return d(this,n),this.setState({elapsed:0}),this.props.onRestart()}},{key:"render",value:function(){var e,t,n,r,a,o,i,s,u,c=this.props;return t=c.bombs,o=c.foundBombs,a=c.flagging,n=c.dead,u=c.won,e=c.best,i=c.onFlagToggle,s=c.pressing,r=this.state.elapsed,l("div",{id:"toolbar"},l("span",{id:"bombs"},(t-o).toString().padStart(t.toString().length,0)),l("button",{onClick:this.handleRestart},n?"\ud83d\ude35":u?"\ud83d\ude0e":s?"\ud83d\ude2e":"\ud83d\ude42"),l("button",{onClick:i},a?"\ud83d\udea9":"\ud83d\udca3"),l("time",null,r.toString().padStart(3,0)),e?l("span",{id:"best"},"Best: ",e.elapsed):void 0)}}]),n}(c.Component)},"Gqi+":function(e,t,n){"use strict";var r=n("KQm4"),a=n("ODXe"),o=n("1OyB"),i=n("vuIU"),s=n("JX7q"),u=n("Ji7U"),c=n("md7G"),l=n("foSv");Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,e.call(r,t-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var f=n("q1tI"),d=n.n(f),h=d.a.createElement;function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var a=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var b=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},v=function(e){Object(u.a)(n,e);var t=p(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).componentDidUpdate=r.componentDidUpdate.bind(Object(s.a)(r)),r.handleClick=r.handleClick.bind(Object(s.a)(r)),r.handleMouseDown=r.handleMouseDown.bind(Object(s.a)(r)),r.handleMouseUp=r.handleMouseUp.bind(Object(s.a)(r)),r.handleTouchStart=r.handleTouchStart.bind(Object(s.a)(r)),r.handleTouchEnd=r.handleTouchEnd.bind(Object(s.a)(r)),r.handleTouchMove=r.handleTouchMove.bind(Object(s.a)(r)),r.initialState={open:!1,flagged:!1,exploded:!1},r.state=r.initialState,r.button=d.a.createRef(),r}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(e){if(b(this,n),e.game!==this.props.game)return this.setState(this.initialState)}},{key:"handleClick",value:function(){var e,t,r,a;b(this,n);var o=this.props;if(e=o.dead,a=o.opened,r=o.flagging,t=this.state.flagged,!e&&(!t||r))return a||this.state.open?this.expand():r?this.flag():this.open()}},{key:"expand",value:function(){var e,t,n,r=this.props;return n=r.row,e=r.column,t=r.neighbors,(0,r.onExpand)(n,e,t)}},{key:"flag",value:function(){var e,t,n,r=this.props;return n=r.row,e=r.column,t=r.onFlag,this.setState((function(r){var a;return a=!r.flagged,t(n,e,a),{flagged:a}}))}},{key:"open",value:function(){var e,t,n,r,a,o=this.props;return a=o.row,t=o.column,e=o.bomb,n=o.onDeath,r=o.onOpen,this.setState({open:!0}),e?(this.setState({exploded:!0}),n(a,t)):r(a,t)}},{key:"handleMouseDown",value:function(){var e,t,r;b(this,n);var a=this.props;return r=a.row,e=a.column,t=a.opened,(0,a.onPress)(r,e,t||this.state.open)}},{key:"handleMouseUp",value:function(){var e,t;b(this,n);var r=this.props;return t=r.row,e=r.column,(0,r.onUnpress)(t,e)}},{key:"handleTouchStart",value:function(){return b(this,n),this.handleMouseDown()}},{key:"handleTouchEnd",value:function(){return b(this,n),this.handleMouseUp()}},{key:"handleTouchMove",value:function(e){var t,r,a,o,i,s;b(this,n);var u=e.touches[0];a=u.pageX,o=u.pageY;var c=this.button.current.getBoundingClientRect();return s=c.top,t=c.bottom,r=c.left,i=c.right,r<a&&a<i&&(s<o&&o<t)?this.handleTouchStart():this.handleTouchEnd()}},{key:"render",value:function(){var e,t,n,r,a,o,i,s,u,c,l=this.props;l.row,l.column,e=l.bomb,o=l.neighbors,n=l.dead,s=l.opened,u=l.pressed,c=l.won;var f=this.state;return i=f.open,a=f.flagged,r=f.exploded,t=[],((i=i||s)||r||n&&e&&!a)&&t.push("open"),n&&a&&!e&&t.push("wrong-flag"),o&&t.push("neighbor"),o&&t.push("neighbor-".concat(o)),u&&t.push("pressed"),h("button",{ref:this.button,disabled:n||c,className:t.join(" "),onClick:this.handleClick,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseOut:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove},i&&o?o:void 0,!i&&!n||!e||r||a?void 0:"\ud83d\udca3",a?"\ud83d\udea9":void 0,r?"\ud83d\udca5":void 0)}}]),n}(f.Component),y=d.a.createElement;function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var a=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var g=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};t.a=function(e){Object(u.a)(n,e);var t=m(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).componentDidUpdate=r.componentDidUpdate.bind(Object(s.a)(r)),r.handleOpen=r.handleOpen.bind(Object(s.a)(r)),r.handleFlag=r.handleFlag.bind(Object(s.a)(r)),r.handleDeath=r.handleDeath.bind(Object(s.a)(r)),r.handleExpand=r.handleExpand.bind(Object(s.a)(r)),r.handlePress=r.handlePress.bind(Object(s.a)(r)),r.handleUnpress=r.handleUnpress.bind(Object(s.a)(r)),r.initialState={distributed:!1,bombLocations:[],dead:!1,opened:[],flagged:[],pressed:[],game:""},r.state=r.initialState,r.recentlyOpened=[],r.couldHaveWon=!1,r}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(e){var t,r;if(g(this,n),e.started&&!this.props.started)return this.reset();if(this.firstOpening){var o=Object(a.a)(this.firstOpening,2);return r=o[0],t=o[1],this.firstOpening=null,this.handleOpen(r,t)}return this.cascadeOpening(),this.checkIfWon()}},{key:"reset",value:function(){return this.recentlyOpened=[],this.firstOpening=null,this.couldHaveWon=!1,this.setState(this.initialState)}},{key:"distribute",value:function(e,t){var n,r,o,i,s,u,c=this.props;return u=c.rows,i=c.columns,o=c.bombs,n=function(){for(var e=[],t=0;0<=u?t<u:t>u;0<=u?t++:t--)e.push(t);return e}.apply(this).map((function(e){return function(){for(var e=[],t=0;0<=i?t<i:t>i;0<=i?t++:t--)e.push(t);return e}.apply(this).map((function(t){return[e,t]}))})).flat().filter((function(n){var r,o,i=Object(a.a)(n,2);return o=i[0],r=i[1],o<e-1||o>e+1||r<t-1||r>t+1})),r=[],function(){for(var e=[],t=0;0<=o?t<o:t>o;0<=o?t++:t--)e.push(t);return e}.apply(this).forEach((function(){var e;return e=Math.round(Math.random()*(n.length-1)),r.push(n.splice(e,1)[0])})),r.sort((function(e,t){return"".concat(e[0],", ").concat(e[1])-"".concat(t[0],", ").concat(t[1])})),s=new Date,this.setState({distributed:!0,game:s,bombLocations:r}),this.props.onStart(s)}},{key:"bomb",value:function(e,t){return this.state.bombLocations.some((function(n){return n[0]===e&&n[1]===t}))}},{key:"neighbors",value:function(e,t){var n=this;if(!this.bomb(e,t))return this.surrounding(e,t).filter((function(e){return n.bomb.apply(n,Object(r.a)(e))})).length}},{key:"surrounding",value:function(e,t){var n,r,a,o=this.props;return a=o.rows,n=o.columns,function(){for(var t=[],n=r=e-1,a=e+1;r<=a?n<=a:n>=a;r<=a?n++:n--)t.push(n);return t}.apply(this).filter((function(e){return e>=0&&e<a})).map((function(e){var r;return function(){for(var e=[],n=r=t-1,a=t+1;r<=a?n<=a:n>=a;r<=a?n++:n--)e.push(n);return e}.apply(this).filter((function(e){return e>=0&&e<n})).map((function(t){return[e,t]}))})).flat()}},{key:"handleOpen",value:function(e,t){var r=this;return g(this,n),this.state.distributed?this.setState((function(n){var a;if(!n.opened.some((function(n){return n[0]===e&&n[1]===t})))return(a=n.opened.slice(0)).push([e,t]),r.recentlyOpened.push([e,t]),{opened:a}})):(this.distribute(e,t),this.firstOpening=[e,t])}},{key:"cascadeOpening",value:function(){var e,t,n,o,i,s=this;for(n=[];(t=this.recentlyOpened.shift())&&t;){var u=t,c=Object(a.a)(u,2);o=c[0],e=c[1],this.neighbors(o,e)?n.push(void 0):(i=this.surrounding(o,e),n.push(i.forEach((function(e){return s.handleOpen.apply(s,Object(r.a)(e))}))))}return n}},{key:"handleFlag",value:function(e,t,r){var a,o;g(this,n);var i=this.props;return a=i.onFlagAdded,o=i.onFlagRemoved,this.setState((function(n){var i;return i=n.flagged.slice(0),r?(i.push([e,t]),a(),this.couldHaveWon=!0):(i=i.filter((function(n){return n[0]!==e||n[1]!==t})),o()),{flagged:i}}))}},{key:"handleDeath",value:function(){return g(this,n),this.setState({dead:!0}),this.props.onDeath()}},{key:"opened",value:function(e,t){return this.state.opened.some((function(n){return n[0]===e&&n[1]===t}))}},{key:"flagged",value:function(e,t){return this.state.flagged.some((function(n){return n[0]===e&&n[1]===t}))}},{key:"pressed",value:function(e,t){return this.state.pressed.some((function(n){return n[0]===e&&n[1]===t}))}},{key:"unflagged",value:function(e,t){var n,a,o=this;return a=(n=this.surrounding(e,t)).filter((function(e){return!o.flagged.apply(o,Object(r.a)(e))})),{surrounding:n,unflagged:a}}},{key:"handleExpand",value:function(e,t,a){var o,i,s=this;g(this,n);var u=this.unflagged(e,t);if(o=u.surrounding,(i=u.unflagged).length===o.length-a)return i.forEach((function(e){return s.bomb.apply(s,Object(r.a)(e))?s.handleDeath():(s.handleOpen.apply(s,Object(r.a)(e)),s.couldHaveWon=!0)}))}},{key:"handlePress",value:function(e,t,a){var o,i,s=this;(g(this,n),o=[[e,t]],a)&&(i=this.unflagged(e,t).unflagged,o=[].concat(Object(r.a)(i),Object(r.a)(o)));return this.setState((function(n){var r;if(!n.pressed.some((function(n){return n[0]===e&&n[1]===t})))return(r=n.pressed.slice(0)).push.apply(r,o),s.props.onPress(),{pressed:r}}))}},{key:"handleUnpress",value:function(e,t){return g(this,n),this.setState({pressed:[]}),this.props.onUnpress()}},{key:"checkIfWon",value:function(){var e,t;if(!this.props.won&&this.couldHaveWon)return e=this.state.flagged.length===this.props.bombs,t=this.state.opened.length===this.props.rows*this.props.columns-this.props.bombs,e&&t?this.props.onWin():void 0}},{key:"render",value:function(){var e,t,n,r,a,o,i=this,s=this.props;a=s.rows,e=s.columns,n=s.flagging,o=s.won;var u=this.state;return t=u.dead,r=u.game,y("div",{id:"board"},function(){for(var e=[],t=0;0<=a?t<a:t>a;0<=a?t++:t--)e.push(t);return e}.apply(this).map((function(a){return y("div",{className:"row",key:a},function(){for(var t=[],n=0;0<=e?n<e:n>e;0<=e?n++:n--)t.push(n);return t}.apply(i).map((function(e){return y(v,{key:e,row:a,column:e,flagging:n,bomb:i.bomb(a,e),opened:i.opened(a,e),pressed:i.pressed(a,e),won:o,dead:t,neighbors:i.neighbors(a,e),game:r,onFlag:i.handleFlag,onOpen:i.handleOpen,onExpand:i.handleExpand,onDeath:i.handleDeath,onPress:i.handlePress,onUnpress:i.handleUnpress})})))})))}}]),n}(f.Component)},Ijbi:function(e,t,n){var r=n("WkPL");e.exports=function(e){if(Array.isArray(e))return r(e)}},JX7q:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},Ji7U:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return a}))},KQm4:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("a3WO");var a=n("BsWD");function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},ODXe:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("BsWD");function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},RIqP:function(e,t,n){var r=n("Ijbi"),a=n("EbDI"),o=n("ZhPi"),i=n("Bnag");e.exports=function(e){return r(e)||a(e)||o(e)||i()}},Xuae:function(e,t,n){"use strict";var r=n("RIqP"),a=n("lwsE"),o=n("W8MJ"),i=(n("PJYZ"),n("7W2i")),s=n("a1gu"),u=n("Nsbk");function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var a=u(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return s(this,n)}}t.__esModule=!0,t.default=void 0;var l=n("q1tI"),f=function(e){i(n,e);var t=c(n);function n(e){var o;return a(this,n),(o=t.call(this,e))._hasHeadManager=void 0,o.emitChange=function(){o._hasHeadManager&&o.props.headManager.updateHead(o.props.reduceComponentsToState(r(o.props.headManager.mountedInstances),o.props))},o._hasHeadManager=o.props.headManager&&o.props.headManager.mountedInstances,o}return o(n,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),n}(l.Component);t.default=f},YFqc:function(e,t,n){e.exports=n("cTJO")},a3WO:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},cTJO:function(e,t,n){"use strict";var r=n("J4zp"),a=n("284h");t.__esModule=!0,t.default=void 0;var o=a(n("q1tI")),i=n("elyg"),s=n("nOHt"),u=n("vNVm"),c={};function l(e,t,n,r){if((0,i.isLocalURL)(t)){e.prefetch(t,n,r).catch((function(e){0}));var a=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;c[t+"%"+n+(a?"%"+a:"")]=!0}}var f=function(e){var t=!1!==e.prefetch,n=(0,s.useRouter)(),a=n&&n.pathname||"/",f=o.default.useMemo((function(){var t=(0,i.resolveHref)(a,e.href,!0),n=r(t,2),o=n[0],s=n[1];return{href:o,as:e.as?(0,i.resolveHref)(a,e.as):s||o}}),[a,e.href,e.as]),d=f.href,h=f.as,p=e.children,b=e.replace,v=e.shallow,y=e.scroll,m=e.locale;"string"===typeof p&&(p=o.default.createElement("a",null,p));var g=o.Children.only(p),O=g&&"object"===typeof g&&g.ref,w=(0,u.useIntersection)({rootMargin:"200px"}),j=r(w,2),S=j[0],k=j[1],C=o.default.useCallback((function(e){S(e),O&&("function"===typeof O?O(e):"object"===typeof O&&(O.current=e))}),[O,S]);(0,o.useEffect)((function(){var e=k&&t&&(0,i.isLocalURL)(d),r="undefined"!==typeof m?m:n&&n.locale,a=c[d+"%"+h+(r?"%"+r:"")];e&&!a&&l(n,d,h,{locale:r})}),[h,d,k,m,t,n]);var R={ref:C,onClick:function(e){g.props&&"function"===typeof g.props.onClick&&g.props.onClick(e),e.defaultPrevented||function(e,t,n,r,a,o,s,u){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,i.isLocalURL)(n))&&(e.preventDefault(),null==s&&(s=r.indexOf("#")<0),t[a?"replace":"push"](n,r,{shallow:o,locale:u}).then((function(e){e&&s&&(window.scrollTo(0,0),document.body.focus())})))}(e,n,d,h,b,v,y,m)},onMouseEnter:function(e){(0,i.isLocalURL)(d)&&(g.props&&"function"===typeof g.props.onMouseEnter&&g.props.onMouseEnter(e),l(n,d,h,{priority:!0}))}};return(e.passHref||"a"===g.type&&!("href"in g.props))&&(R.href=(0,i.addBasePath)((0,i.addLocale)(h,"undefined"!==typeof m?m:n&&n.locale,n&&n.defaultLocale))),o.default.cloneElement(g,R)};t.default=f},foSv:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},lSNA:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},lwAK:function(e,t,n){"use strict";var r;t.__esModule=!0,t.AmpStateContext=void 0;var a=((r=n("q1tI"))&&r.__esModule?r:{default:r}).default.createContext({});t.AmpStateContext=a},md7G:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return o}));var a=n("JX7q");function o(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?Object(a.a)(e):t}},oJTh:function(e,t,n){"use strict";var r=n("1OyB"),a=n("vuIU"),o=n("JX7q"),i=n("Ji7U"),s=n("md7G"),u=n("foSv"),c=n("q1tI"),l=n.n(c),f=n("YFqc"),d=n.n(f),h=n("nOHt"),p=n.n(h),b=l.a.createElement;function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var y=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};t.a=function(e){Object(i.a)(n,e);var t=v(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).handleRowsChange=a.handleRowsChange.bind(Object(o.a)(a)),a.handleColumnsChange=a.handleColumnsChange.bind(Object(o.a)(a)),a.handleBombsChange=a.handleBombsChange.bind(Object(o.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(o.a)(a)),a.initialState={rows:null,columns:null,bombs:null},a.state=a.initialState,a}return Object(a.a)(n,[{key:"componentDidUpdate",value:function(e){if(e!==this.props)return this.setState(this.initialState)}},{key:"defaultBombs",value:function(e){var t=e.rows,n=e.columns;return Math.round(t*n*.18)}},{key:"handleRowsChange",value:function(e){return y(this,n),this.setState({rows:e.target.value})}},{key:"handleColumnsChange",value:function(e){return y(this,n),this.setState({columns:e.target.value})}},{key:"handleBombsChange",value:function(e){var t;return y(this,n),t=e.target.value,parseInt(t)===this.defaultBombs(this.currentRowsColumns())&&(t=null),this.setState({bombs:t})}},{key:"handleSubmit",value:function(e){var t,r,a,o;y(this,n),e.preventDefault();var i=this.currentValues();return o=i.rows,r=i.columns,t=i.bombs,a="/?rows=".concat(o,"&columns=").concat(r,"&bombs=").concat(t),p.a.push(a,"/shitty-minesweeper"+a)}},{key:"currentRowsColumns",value:function(){var e,t,n=this.state;return t=n.rows,e=n.columns,null==t&&(t=this.props.rows),null==e&&(e=this.props.columns),{rows:t,columns:e}}},{key:"calculateBombs",value:function(e,t){return e&&t?this.defaultBombs({rows:e,columns:t}):""}},{key:"currentValues",value:function(){var e,t,n,r=this.currentRowsColumns();return n=r.rows,t=r.columns,(e=this.state.bombs)||(e=this.calculateBombs(n,t)),{rows:n,columns:t,bombs:e}}},{key:"render",value:function(){var e,t,n,r,a;n=this.props.onClose;var o=this.currentValues();return a=o.rows,t=o.columns,e=o.bombs,r="".concat("/shitty-minesweeper","/"),b("section",{id:"settings"},b("h1",null,"Settings",b("button",{className:"close",onClick:n},"\u2715")),b("form",{onSubmit:this.handleSubmit},b("fieldset",null,b("legend",null,"Board size"),b("div",{className:"field"},b("label",{htmlFor:"rows"},"Rows: "),b("input",{id:"rows",name:"rows",type:"number",value:a,onChange:this.handleRowsChange})),b("div",{className:"field"},b("label",{htmlFor:"columns"},"Columns: "),b("input",{id:"columns",name:"columns",type:"number",value:t,onChange:this.handleColumnsChange})),b("div",{className:"field"},b("label",{htmlFor:"bombs"},"Bombs: "),b("input",{id:"bombs",name:"bombs",type:"number",value:e,onChange:this.handleBombsChange})),b("div",{className:"actions"},b(d.a,{href:"/",as:r},b("a",null,"Use defaults")),b("button",null,"Save")))))}}]),n}(c.Component)},rePB:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},vNVm:function(e,t,n){"use strict";var r=n("J4zp"),a=n("TqRt");t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,n=e.disabled||!s,a=(0,o.useRef)(),c=(0,o.useState)(!1),l=r(c,2),f=l[0],d=l[1],h=(0,o.useCallback)((function(e){a.current&&(a.current(),a.current=void 0),n||f||e&&e.tagName&&(a.current=function(e,t,n){var r=function(e){var t=e.rootMargin||"",n=u.get(t);if(n)return n;var r=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=r.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return u.set(t,n={id:t,observer:a,elements:r}),n}(n),a=r.id,o=r.observer,i=r.elements;return i.set(e,t),o.observe(e),function(){o.unobserve(e),0===i.size&&(o.disconnect(),u.delete(a))}}(e,(function(e){return e&&d(e)}),{rootMargin:t}))}),[n,t,f]);return(0,o.useEffect)((function(){s||f||(0,i.default)((function(){return d(!0)}))}),[f]),[h,f]};var o=n("q1tI"),i=a(n("0G5g")),s="undefined"!==typeof IntersectionObserver;var u=new Map},vuIU:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return a}))},wx14:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},"x+Gp":function(e,t,n){"use strict";(function(e){var r=n("wx14"),a=n("rePB"),o=n("1OyB"),i=n("vuIU"),s=n("JX7q"),u=n("Ji7U"),c=n("md7G"),l=n("foSv"),f=n("q1tI"),d=n.n(f),h=n("8Kt/"),p=n.n(h),b=n("FZuZ"),v=n("Gqi+"),y=n("oJTh"),m=(n("GNBN"),d.a.createElement);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var a=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var j=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};t.a=function(t){Object(u.a)(a,t);var n=w(a);function a(){var e;return Object(o.a)(this,a),(e=n.call(this)).handleRestart=e.handleRestart.bind(Object(s.a)(e)),e.handleStart=e.handleStart.bind(Object(s.a)(e)),e.handleFlagToggle=e.handleFlagToggle.bind(Object(s.a)(e)),e.handleFlagAdded=e.handleFlagAdded.bind(Object(s.a)(e)),e.handleFlagRemoved=e.handleFlagRemoved.bind(Object(s.a)(e)),e.handleDeath=e.handleDeath.bind(Object(s.a)(e)),e.handleWin=e.handleWin.bind(Object(s.a)(e)),e.handleViewSettingsClick=e.handleViewSettingsClick.bind(Object(s.a)(e)),e.handleCloseSettings=e.handleCloseSettings.bind(Object(s.a)(e)),e.handlePress=e.handlePress.bind(Object(s.a)(e)),e.handleUnpress=e.handleUnpress.bind(Object(s.a)(e)),e.initialState={started:!1,flagging:!1,foundBombs:0,dead:!1,startedAt:null,endedAt:null,won:!1,best:null,settings:!1,pressing:!1},e.state=O({},e.initialState),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){return this.setState({best:this.best()})}},{key:"handleRestart",value:function(){return j(this,a),this.setState(O(O({},this.initialState),{},{best:this.best()}))}},{key:"handleStart",value:function(e){return j(this,a),this.setState({started:!0,startedAt:e})}},{key:"handleFlagToggle",value:function(){return j(this,a),this.setState((function(e){return{flagging:!e.flagging}}))}},{key:"handleFlagAdded",value:function(){return j(this,a),this.setState((function(e){return{foundBombs:e.foundBombs+1}}))}},{key:"handleFlagRemoved",value:function(){return j(this,a),this.setState((function(e){return{foundBombs:e.foundBombs-1}}))}},{key:"handleDeath",value:function(){return j(this,a),this.setState({dead:!0,endedAt:new Date})}},{key:"storage",value:function(){return e.localStorage||{}}},{key:"handleWin",value:function(){var e;return j(this,a),e=new Date,this.saveTime(e),this.setState({won:!0,endedAt:e,best:this.best()})}},{key:"saveTime",value:function(e){var t,n,r,a,o,i,s=this.props;return i=s.rows,n=s.columns,t=s.bombs,r={startedAt:this.state.startedAt,endedAt:e},(o=this.records())[a="".concat(i,"x").concat(n,"_").concat(t)]||(o[a]=[]),o["".concat(i,"x").concat(n,"_").concat(t)].push(r),this.storage().shittyMinesweeper=JSON.stringify(o)}},{key:"records",value:function(){var e,t,n;if(!this.storage().shittyMinesweeper)return{};for(n in t=JSON.parse(this.storage().shittyMinesweeper),t)(e=t[n]).forEach((function(e){var t;return e.startedAt=new Date(Date.parse(e.startedAt)),e.endedAt=new Date(Date.parse(e.endedAt)),t=e.endedAt-e.startedAt,e.elapsed=Math.round(t/1e3)})),e.sort((function(e,t){return e.elapsed-t.elapsed}));return t}},{key:"best",value:function(){var e,t,n,r=this.props;return n=r.rows,t=r.columns,e=r.bombs,(this.records()["".concat(n,"x").concat(t,"_").concat(e)]||[])[0]}},{key:"handleViewSettingsClick",value:function(){return j(this,a),this.handleRestart(),this.setState({settings:!0})}},{key:"handleCloseSettings",value:function(){return j(this,a),this.setState({settings:!1})}},{key:"handlePress",value:function(){return j(this,a),this.setState({pressing:!0})}},{key:"handleUnpress",value:function(){return j(this,a),this.setState({pressing:!1})}},{key:"render",value:function(){var e,t,n,a,o,i,s,u,c,l,d,h,g,O=this.state;d=O.started,h=O.startedAt,o=O.endedAt,i=O.flagging,s=O.foundBombs,a=O.dead,g=O.won,e=O.best,l=O.settings,u=O.pressing;var w=this.props;return c=w.rows,n=w.columns,t=w.bombs,m(f.Fragment,null,m(p.a,null,m("title",null,"Shitty Minesweeper"),m("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})),l?m(y.a,Object(r.a)({},this.props,{onClose:this.handleCloseSettings})):m(f.Fragment,null,m("button",{id:"view-settings",onClick:this.handleViewSettingsClick},"\u2699\ufe0f"),m(b.a,{bombs:t,foundBombs:s,startedAt:h,endedAt:o,flagging:i,dead:a,won:g,best:e,pressing:u,onRestart:this.handleRestart,onFlagToggle:this.handleFlagToggle}),m(v.a,{flagging:i,rows:c,columns:n,bombs:t,started:d,won:g,onStart:this.handleStart,onFlagAdded:this.handleFlagAdded,onFlagRemoved:this.handleFlagRemoved,onPress:this.handlePress,onUnpress:this.handleUnpress,onDeath:this.handleDeath,onWin:this.handleWin})))}}]),a}(f.Component)}).call(this,n("yLpj"))},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n}},[["6mSP",0,2,1,8]]]);