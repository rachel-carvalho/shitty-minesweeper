(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+iuc":function(t,e,n){n("wgeU"),n("FlQf"),n("bBy9"),n("B9jh"),n("dL40"),n("xvv9"),n("V+O7"),t.exports=n("WEpk").Set},"/0+H":function(t,e,n){"use strict";var r=n("hfKm"),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};r(e,"__esModule",{value:!0});var a=o(n("q1tI")),i=n("lwAK");function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ampFirst,n=void 0!==e&&e,r=t.hybrid,o=void 0!==r&&r,a=t.hasQuery;return n||o&&(void 0!==a&&a)}e.isInAmpMode=u,e.useAmp=function(){return u(a.default.useContext(i.AmpStateContext))}},"/h46":function(t,e,n){n("cHUd")("Map")},"0iUn":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},"0tVQ":function(t,e,n){n("FlQf"),n("VJsP"),t.exports=n("WEpk").Array.from},"2Eek":function(t,e,n){t.exports=n("W7oM")},"2PDY":function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},"4mXO":function(t,e,n){t.exports=n("7TPF")},"5pKv":function(t,e){t.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},"6BQ9":function(t,e,n){t.exports=n("uekQ")},"6mSP":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("79zj")}])},"79zj":function(t,e,n){"use strict";n.r(e),function(t){var r=n("hfKm"),o=n.n(r),a=n("2Eek"),i=n.n(a),u=n("XoMD"),s=n.n(u),c=n("Jo+v"),l=n.n(c),f=n("4mXO"),h=n.n(f),d=n("pLtp"),p=n.n(d),v=n("6BQ9"),b=n.n(v),m=n("Qetd"),g=n.n(m),y=n("dfwq"),w=n("vYYK"),O=n("doui"),k=n("0iUn"),S=n("sLSF"),j=n("MI3g"),C=n("a7VT"),E=n("Tit0"),_=n("q1tI"),x=n.n(_),A=n("x+Gp"),T=x.a.createElement;function M(t,e){var n=p()(t);if(h.a){var r=h()(t);e&&(r=r.filter((function(e){return l()(t,e).enumerable}))),n.push.apply(n,r)}return n}e.default=function(e){function n(){return Object(k.a)(this,n),Object(j.a)(this,Object(C.a)(n).apply(this,arguments))}return Object(E.a)(n,e),Object(S.a)(n,[{key:"parseSearch",value:function(){var e,n,r,a,u,c,f=this.props;return r=f.defaultRows,n=f.defaultColumns,e=f.customBombs,(null!=(u=t.location)?u.search:void 0)&&(r||n||e)?(a=location.search.substring(1).split("&").map((function(t){var e,n,r=t.split("="),o=Object(O.a)(r,2);return e=o[0],n=o[1],Object(w.a)({},"".concat(e),n)})),c=g.a.apply(Object,Object(y.a)(a)),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){Object(w.a)(t,e,n[e])})):s.a?i()(t,s()(n)):M(Object(n)).forEach((function(e){o()(t,e,l()(n,e))}))}return t}({},this.props,{},c)):this.props}},{key:"render",value:function(){var t,e,n,r,o=this.parseSearch();return r=o.rows,e=o.columns,t=(n=o.customBombs)?b()(n):Math.round(e*r*.18),T(A.a,{rows:r,columns:e,bombs:t})}}],[{key:"getInitialProps",value:function(t){var e=t.query;t.req;return{rows:(null!=e?e.rows:void 0)||15,columns:(null!=e?e.columns:void 0)||10,customBombs:null!=e?e.bombs:void 0,defaultRows:!(null!=e?e.rows:void 0),defaultColumns:!(null!=e?e.columns:void 0)}}}]),n}(_.Component)}.call(this,n("yLpj"))},"7TPF":function(t,e,n){n("AUvm"),t.exports=n("WEpk").Object.getOwnPropertySymbols},"7m0m":function(t,e,n){var r=n("Y7ZC"),o=n("uplh"),a=n("NsO/"),i=n("vwuL"),u=n("IP1Z");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),s=i.f,c=o(r),l={},f=0;c.length>f;)void 0!==(n=s(r,e=c[f++]))&&u(l,e,n);return l}})},"8Kt/":function(t,e,n){"use strict";var r=n("ttDY"),o=n("hfKm"),a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};o(e,"__esModule",{value:!0});var i=a(n("q1tI")),u=a(n("Xuae")),s=n("lwAK"),c=n("FYa8"),l=n("/0+H");function f(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[i.default.createElement("meta",{charSet:"utf-8"})];return t||e.push(i.default.createElement("meta",{name:"viewport",content:"width=device-width,minimum-scale=1,initial-scale=1"})),e}function h(t,e){return"string"===typeof e||"number"===typeof e?t:e.type===i.default.Fragment?t.concat(i.default.Children.toArray(e.props.children).reduce((function(t,e){return"string"===typeof e||"number"===typeof e?t:t.concat(e)}),[])):t.concat(e)}e.defaultHead=f;var d=["name","httpEquiv","charSet","itemProp"];function p(t,e){return t.reduce((function(t,e){var n=i.default.Children.toArray(e.props.children);return t.concat(n)}),[]).reduce(h,[]).reverse().concat(f(e.inAmpMode)).filter(function(){var t=new r,e=new r,n=new r,o={};return function(a){var i=!0;if(a.key&&"number"!==typeof a.key&&a.key.indexOf("$")>0){var u=a.key.slice(a.key.indexOf("$")+1);t.has(u)?i=!1:t.add(u)}switch(a.type){case"title":case"base":e.has(a.type)?i=!1:e.add(a.type);break;case"meta":for(var s=0,c=d.length;s<c;s++){var l=d[s];if(a.props.hasOwnProperty(l))if("charSet"===l)n.has(l)?i=!1:n.add(l);else{var f=a.props[l],h=o[l]||new r;h.has(f)?i=!1:(h.add(f),o[l]=h)}}}return i}}()).reverse().map((function(t,e){var n=t.key||e;return i.default.cloneElement(t,{key:n})}))}var v=u.default();function b(t){var e=t.children;return i.default.createElement(s.AmpStateContext.Consumer,null,(function(t){return i.default.createElement(c.HeadManagerContext.Consumer,null,(function(n){return i.default.createElement(v,{reduceComponentsToState:p,handleStateChange:n,inAmpMode:l.isInAmpMode(t)},e)}))}))}b.rewind=v.rewind,e.default=b},"8iia":function(t,e,n){var r=n("QMMT"),o=n("RRc/");t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},"9Jkg":function(t,e,n){t.exports=n("oh+g")},"AT/M":function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},B9jh:function(t,e,n){"use strict";var r=n("Wu5q"),o=n("n3ko");t.exports=n("raTm")("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(o(this,"Set"),t=0===t?0:t,t)}},r)},FZuZ:function(t,e,n){"use strict";var r=n("0iUn"),o=n("sLSF"),a=n("MI3g"),i=n("a7VT"),u=n("AT/M"),s=n("Tit0"),c=n("q1tI"),l=n.n(c).a.createElement,f=function(t,e){if(!(t instanceof e))throw new Error("Bound instance method accessed before binding")};e.a=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(a.a)(this,Object(i.a)(e).call(this,t))).calculateTime=n.calculateTime.bind(Object(u.a)(n)),n.handleRestart=n.handleRestart.bind(Object(u.a)(n)),n.state={elapsed:0},n}return Object(s.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){return this.intervalID=setInterval(this.calculateTime,1e3)}},{key:"componentWillUnmount",value:function(){return clearInterval(this.intervalID)}},{key:"calculateTime",value:function(){var t;return f(this,e),this.props.startedAt?(t=(this.props.endedAt||new Date)-this.props.startedAt,this.setState({elapsed:Math.round(t/1e3)})):this.setState({elapsed:0})}},{key:"handleRestart",value:function(){return f(this,e),this.setState({elapsed:0}),this.props.onRestart()}},{key:"render",value:function(){var t,e,n,r,o,a,i,u,s=this.props;return e=s.bombs,a=s.foundBombs,o=s.flagging,n=s.dead,u=s.won,t=s.best,i=s.onFlagToggle,r=this.state.elapsed,l("div",{id:"toolbar"},l("span",{id:"bombs"},(e-a).toString().padStart(e.toString().length,0)),l("button",{onClick:this.handleRestart},n?"\ud83d\ude35":u?"\ud83d\ude0e":"\ud83d\ude42"),l("button",{onClick:i},o?"\ud83d\udea9":"\ud83d\udca3"),l("time",null,r.toString().padStart(3,0)),t?l("span",{id:"best"},"Best: ",t.elapsed):void 0)}}]),e}(c.Component)},"Gqi+":function(t,e,n){"use strict";var r=n("dfwq"),o=n("doui"),a=n("0iUn"),i=n("sLSF"),u=n("MI3g"),s=n("a7VT"),c=n("AT/M"),l=n("Tit0");Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function t(){var e=isNaN(arguments[0])?1:Number(arguments[0]);return e?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,t.call(r,e-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(t){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var f=n("q1tI"),h=n.n(f),d=h.a.createElement,p=function(t,e){if(!(t instanceof e))throw new Error("Bound instance method accessed before binding")},v=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(u.a)(this,Object(s.a)(e).call(this,t))).componentDidUpdate=n.componentDidUpdate.bind(Object(c.a)(n)),n.handleClick=n.handleClick.bind(Object(c.a)(n)),n.initialState={open:!1,flagged:!1,exploded:!1},n.state=n.initialState,n}return Object(l.a)(e,t),Object(i.a)(e,[{key:"componentDidUpdate",value:function(t){if(p(this,e),t.game!==this.props.game)return this.setState(this.initialState)}},{key:"handleClick",value:function(){var t,n,r,o;p(this,e);var a=this.props;if(t=a.dead,o=a.opened,r=a.flagging,n=this.state.flagged,!t&&(!n||r))return o||this.state.open?this.expand():r?this.flag():this.open()}},{key:"expand",value:function(){var t,e,n,r=this.props;return n=r.row,t=r.column,e=r.neighbors,(0,r.onExpand)(n,t,e)}},{key:"flag",value:function(){var t,e,n,r=this.props;return n=r.row,t=r.column,e=r.onFlag,this.setState((function(r){var o;return o=!r.flagged,e(n,t,o),{flagged:o}}))}},{key:"open",value:function(){var t,e,n,r,o,a=this.props;return o=a.row,e=a.column,t=a.bomb,n=a.onDeath,r=a.onOpen,this.setState({open:!0}),t?(this.setState({exploded:!0}),n(o,e)):r(o,e)}},{key:"render",value:function(){var t,e,n,r,o,a,i,u,s=this.props;s.row,s.column,t=s.bomb,a=s.neighbors,n=s.dead,u=s.opened;var c=this.state;return i=c.open,o=c.flagged,r=c.exploded,e=[],((i=i||u)||r||n&&t&&!o)&&e.push("open"),n&&o&&!t&&e.push("wrong-flag"),a&&e.push("neighbor"),a&&e.push("neighbor-".concat(a)),d("button",{onClick:this.handleClick,className:e.join(" ")},i&&a?a:void 0,!i&&!n||!t||r||o?void 0:"\ud83d\udca3",o?"\ud83d\udea9":void 0,r?"\ud83d\udca5":void 0)}}]),e}(f.Component),b=h.a.createElement,m=function(t,e){if(!(t instanceof e))throw new Error("Bound instance method accessed before binding")};e.a=function(t){function e(t){var n;return Object(a.a)(this,e),(n=Object(u.a)(this,Object(s.a)(e).call(this,t))).componentDidUpdate=n.componentDidUpdate.bind(Object(c.a)(n)),n.handleOpen=n.handleOpen.bind(Object(c.a)(n)),n.handleFlag=n.handleFlag.bind(Object(c.a)(n)),n.handleDeath=n.handleDeath.bind(Object(c.a)(n)),n.handleExpand=n.handleExpand.bind(Object(c.a)(n)),n.initialState={distributed:!1,bombLocations:[],dead:!1,opened:[],flagged:[],game:""},n.state=n.initialState,n.recentlyOpened=[],n.couldHaveWon=!1,n}return Object(l.a)(e,t),Object(i.a)(e,[{key:"componentDidUpdate",value:function(t){var n,r;if(m(this,e),t.started&&!this.props.started)return this.reset();if(this.firstOpening){var a=Object(o.a)(this.firstOpening,2);return r=a[0],n=a[1],this.firstOpening=null,this.handleOpen(r,n)}return this.cascadeOpening(),this.checkIfWon()}},{key:"reset",value:function(){return this.recentlyOpened=[],this.firstOpening=null,this.couldHaveWon=!1,this.setState(this.initialState)}},{key:"distribute",value:function(t,e){var n,r,a,i,u,s,c=this.props;return s=c.rows,i=c.columns,a=c.bombs,n=function(){for(var t=[],e=0;0<=s?e<s:e>s;0<=s?e++:e--)t.push(e);return t}.apply(this).map((function(t){return function(){for(var t=[],e=0;0<=i?e<i:e>i;0<=i?e++:e--)t.push(e);return t}.apply(this).map((function(e){return[t,e]}))})).flat().filter((function(n){var r,a,i=Object(o.a)(n,2);return a=i[0],r=i[1],a<t-1||a>t+1||r<e-1||r>e+1})),r=[],function(){for(var t=[],e=0;0<=a?e<a:e>a;0<=a?e++:e--)t.push(e);return t}.apply(this).forEach((function(){var t;return t=Math.round(Math.random()*(n.length-1)),r.push(n.splice(t,1)[0])})),r.sort((function(t,e){return"".concat(t[0],", ").concat(t[1])-"".concat(e[0],", ").concat(e[1])})),u=new Date,this.setState({distributed:!0,game:u,bombLocations:r}),this.props.onStart(u)}},{key:"bomb",value:function(t,e){return this.state.bombLocations.some((function(n){return n[0]===t&&n[1]===e}))}},{key:"neighbors",value:function(t,e){var n=this;if(!this.bomb(t,e))return this.surrounding(t,e).filter((function(t){return n.bomb.apply(n,Object(r.a)(t))})).length}},{key:"surrounding",value:function(t,e){var n,r,o,a=this.props;return o=a.rows,n=a.columns,function(){for(var e=[],n=r=t-1,o=t+1;r<=o?n<=o:n>=o;r<=o?n++:n--)e.push(n);return e}.apply(this).filter((function(t){return t>=0&&t<o})).map((function(t){var r;return function(){for(var t=[],n=r=e-1,o=e+1;r<=o?n<=o:n>=o;r<=o?n++:n--)t.push(n);return t}.apply(this).filter((function(t){return t>=0&&t<n})).map((function(e){return[t,e]}))})).flat()}},{key:"handleOpen",value:function(t,n){var r=this;return m(this,e),this.state.distributed?this.setState((function(e){var o;if(!e.opened.some((function(e){return e[0]===t&&e[1]===n})))return(o=e.opened.slice(0)).push([t,n]),r.recentlyOpened.push([t,n]),{opened:o}})):(this.distribute(t,n),this.firstOpening=[t,n])}},{key:"cascadeOpening",value:function(){var t,e,n,a,i,u=this;for(n=[];(e=this.recentlyOpened.shift())&&e;){var s=e,c=Object(o.a)(s,2);a=c[0],t=c[1],this.neighbors(a,t)?n.push(void 0):(i=this.surrounding(a,t),n.push(i.forEach((function(t){return u.handleOpen.apply(u,Object(r.a)(t))}))))}return n}},{key:"handleFlag",value:function(t,n,r){var o,a;m(this,e);var i=this.props;return o=i.onFlagAdded,a=i.onFlagRemoved,this.setState((function(e){var i;return i=e.flagged.slice(0),r?(i.push([t,n]),o(),this.couldHaveWon=!0):(i=i.filter((function(e){return e[0]!==t||e[1]!==n})),a()),{flagged:i}}))}},{key:"handleDeath",value:function(){return m(this,e),this.setState({dead:!0}),this.props.onDeath()}},{key:"opened",value:function(t,e){return this.state.opened.some((function(n){return n[0]===t&&n[1]===e}))}},{key:"flagged",value:function(t,e){return this.state.flagged.some((function(n){return n[0]===t&&n[1]===e}))}},{key:"handleExpand",value:function(t,n,o){var a,i,u=this;if(m(this,e),(i=(a=this.surrounding(t,n)).filter((function(t){return!u.flagged.apply(u,Object(r.a)(t))}))).length===a.length-o)return i.forEach((function(t){return u.bomb.apply(u,Object(r.a)(t))?u.handleDeath():(u.handleOpen.apply(u,Object(r.a)(t)),u.couldHaveWon=!0)}))}},{key:"checkIfWon",value:function(){var t,e;if(!this.props.won&&this.couldHaveWon)return t=this.state.flagged.length===this.props.bombs,e=this.state.opened.length===this.props.rows*this.props.columns-this.props.bombs,t&&e?this.props.onWin():void 0}},{key:"render",value:function(){var t,e,n,r,o,a=this,i=this.props;o=i.rows,t=i.columns,n=i.flagging;var u=this.state;return e=u.dead,r=u.game,b("div",{id:"board"},function(){for(var t=[],e=0;0<=o?e<o:e>o;0<=o?e++:e--)t.push(e);return t}.apply(this).map((function(o){return b("div",{className:"row",key:o},function(){for(var e=[],n=0;0<=t?n<t:n>t;0<=t?n++:n--)e.push(n);return e}.apply(a).map((function(t){return b(v,{key:t,row:o,column:t,flagging:n,bomb:a.bomb(o,t),opened:a.opened(o,t),dead:e,neighbors:a.neighbors(o,t),game:r,onFlag:a.handleFlag,onOpen:a.handleOpen,onExpand:a.handleExpand,onDeath:a.handleDeath})})))})))}}]),e}(f.Component)},IP1Z:function(t,e,n){"use strict";var r=n("2faE"),o=n("rr1i");t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},LX0d:function(t,e,n){t.exports=n("UDep")},MI3g:function(t,e,n){"use strict";var r=n("XVgq"),o=n.n(r),a=n("Z7t5"),i=n.n(a);function u(t){return(u="function"===typeof i.a&&"symbol"===typeof o.a?function(t){return typeof t}:function(t){return t&&"function"===typeof i.a&&t.constructor===i.a&&t!==i.a.prototype?"symbol":typeof t})(t)}function s(t){return(s="function"===typeof i.a&&"symbol"===u(o.a)?function(t){return u(t)}:function(t){return t&&"function"===typeof i.a&&t.constructor===i.a&&t!==i.a.prototype?"symbol":u(t)})(t)}var c=n("AT/M");function l(t,e){return!e||"object"!==s(e)&&"function"!==typeof e?Object(c.a)(t):e}n.d(e,"a",(function(){return l}))},PQJW:function(t,e,n){var r=n("d04V"),o=n("yLu3");t.exports=function(t){if(o(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return r(t)}},"RRc/":function(t,e,n){var r=n("oioR");t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},TbGu:function(t,e,n){var r=n("fGSI"),o=n("PQJW"),a=n("2PDY");t.exports=function(t){return r(t)||o(t)||a()}},Tit0:function(t,e,n){"use strict";var r=n("SqZg"),o=n.n(r),a=n("TRZx"),i=n.n(a);function u(t,e){return(u=i.a||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=o()(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}n.d(e,"a",(function(){return s}))},UDep:function(t,e,n){n("wgeU"),n("FlQf"),n("bBy9"),n("g33z"),n("XLbu"),n("/h46"),n("dVTT"),t.exports=n("WEpk").Map},UXZV:function(t,e,n){t.exports=n("UbbE")},UbbE:function(t,e,n){n("o8NH"),t.exports=n("WEpk").Object.assign},"V+O7":function(t,e,n){n("aPfg")("Set")},VJsP:function(t,e,n){"use strict";var r=n("2GTP"),o=n("Y7ZC"),a=n("JB68"),i=n("sNwI"),u=n("NwJ3"),s=n("tEej"),c=n("IP1Z"),l=n("fNZA");o(o.S+o.F*!n("TuGD")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,o,f,h=a(t),d="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,b=void 0!==v,m=0,g=l(h);if(b&&(v=r(v,p>2?arguments[2]:void 0,2)),void 0==g||d==Array&&u(g))for(n=new d(e=s(h.length));e>m;m++)c(n,m,b?v(h[m],m):h[m]);else for(f=g.call(h),n=new d;!(o=f.next()).done;m++)c(n,m,b?i(f,v,[o.value,m],!0):o.value);return n.length=m,n}})},W7oM:function(t,e,n){n("nZgG");var r=n("WEpk").Object;t.exports=function(t,e){return r.defineProperties(t,e)}},Wu5q:function(t,e,n){"use strict";var r=n("2faE").f,o=n("oVml"),a=n("XJU/"),i=n("2GTP"),u=n("EXMj"),s=n("oioR"),c=n("MPFp"),l=n("UO39"),f=n("TJWN"),h=n("jmDH"),d=n("6/1s").fastKey,p=n("n3ko"),v=h?"_s":"size",b=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t((function(t,r){u(t,l,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=r&&s(r,n,t[c],t)}));return a(l.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=p(this,e),r=b(n,t);if(r){var o=r.n,a=r.p;delete n._i[r.i],r.r=!0,a&&(a.n=o),o&&(o.p=a),n._f==r&&(n._f=o),n._l==r&&(n._l=a),n[v]--}return!!r},forEach:function(t){p(this,e);for(var n,r=i(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!b(p(this,e),t)}}),h&&r(l.prototype,"size",{get:function(){return p(this,e)[v]}}),l},def:function(t,e,n){var r,o,a=b(t,e);return a?a.v=n:(t._l=a={i:o=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=a),r&&(r.n=a),t[v]++,"F"!==o&&(t._i[o]=a)),t},getEntry:b,setStrong:function(t,e,n){c(t,e,(function(t,n){this._t=p(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?l(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,l(1))}),n?"entries":"values",!n,!0),f(e)}}},XLbu:function(t,e,n){var r=n("Y7ZC");r(r.P+r.R,"Map",{toJSON:n("8iia")("Map")})},XWtR:function(t,e,n){var r=n("5T2Y").parseInt,o=n("oc46").trim,a=n("5pKv"),i=/^[-+]?0[xX]/;t.exports=8!==r(a+"08")||22!==r(a+"0x16")?function(t,e){var n=o(String(t),3);return r(n,e>>>0||(i.test(n)?16:10))}:r},XoMD:function(t,e,n){t.exports=n("hYAz")},Xuae:function(t,e,n){"use strict";var r=n("/HRN"),o=n("ZDA2"),a=n("/+P4"),i=n("K47E"),u=n("WaGi"),s=n("N9n2"),c=n("TbGu"),l=n("ttDY");n("hfKm")(e,"__esModule",{value:!0});var f=n("q1tI"),h=!1;e.default=function(){var t,e=new l;function n(n){t=n.props.reduceComponentsToState(c(e),n.props),n.props.handleStateChange&&n.props.handleStateChange(t)}return function(c){function l(t){var u;return r(this,l),u=o(this,a(l).call(this,t)),h&&(e.add(i(u)),n(i(u))),u}return s(l,c),u(l,null,[{key:"rewind",value:function(){var n=t;return t=void 0,e.clear(),n}}]),u(l,[{key:"componentDidMount",value:function(){e.add(this),n(this)}},{key:"componentDidUpdate",value:function(){n(this)}},{key:"componentWillUnmount",value:function(){e.delete(this),n(this)}},{key:"render",value:function(){return null}}]),l}(f.Component)}},YFqc:function(t,e,n){t.exports=n("cTJO")},a7VT:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("Bhuq"),o=n.n(r),a=n("TRZx"),i=n.n(a);function u(t){return(u=i.a?o.a:function(t){return t.__proto__||o()(t)})(t)}},cTJO:function(t,e,n){"use strict";var r=n("/HRN"),o=n("WaGi"),a=n("ZDA2"),i=n("/+P4"),u=n("N9n2"),s=n("LX0d"),c=n("KI45"),l=n("5Uuq");e.__esModule=!0,e.default=void 0;var f,h=n("CxY0"),d=l(n("q1tI")),p=c(n("nOHt")),v=n("g/15");function b(t){return t&&"object"===typeof t?(0,v.formatWithValidation)(t):t}var m=new s,g=window.IntersectionObserver,y={};function w(){return f||(g?f=new g((function(t){t.forEach((function(t){if(m.has(t.target)){var e=m.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&(f.unobserve(t.target),m.delete(t.target),e())}}))}),{rootMargin:"200px"}):void 0)}var O=function(t){function e(t){var n;return r(this,e),(n=a(this,i(e).call(this,t))).p=void 0,n.cleanUpListeners=function(){},n.formatUrls=function(t){var e=null,n=null,r=null;return function(o,a){if(r&&o===e&&a===n)return r;var i=t(o,a);return e=o,n=a,r=i,i}}((function(t,e){return{href:b(t),as:e?b(e):e}})),n.linkClicked=function(t){var e=t.currentTarget,r=e.nodeName,o=e.target;if("A"!==r||!(o&&"_self"!==o||t.metaKey||t.ctrlKey||t.shiftKey||t.nativeEvent&&2===t.nativeEvent.which)){var a=n.formatUrls(n.props.href,n.props.as),i=a.href,u=a.as;if(function(t){var e=(0,h.parse)(t,!1,!0),n=(0,h.parse)((0,v.getLocationOrigin)(),!1,!0);return!e.host||e.protocol===n.protocol&&e.host===n.host}(i)){var s=window.location.pathname;i=(0,h.resolve)(s,i),u=u?(0,h.resolve)(s,u):i,t.preventDefault();var c=n.props.scroll;null==c&&(c=u.indexOf("#")<0),p.default[n.props.replace?"replace":"push"](i,u,{shallow:n.props.shallow}).then((function(t){t&&c&&(window.scrollTo(0,0),document.body.focus())}))}}},n.p=!1!==t.prefetch,n}return u(e,t),o(e,[{key:"componentWillUnmount",value:function(){this.cleanUpListeners()}},{key:"getHref",value:function(){var t=window.location.pathname,e=this.formatUrls(this.props.href,this.props.as).href;return(0,h.resolve)(t,e)}},{key:"handleRef",value:function(t){var e=this,n=y[this.getHref()];this.p&&g&&t&&t.tagName&&(this.cleanUpListeners(),n||(this.cleanUpListeners=function(t,e){var n=w();return n?(n.observe(t),m.set(t,e),function(){try{n.unobserve(t)}catch(e){console.error(e)}m.delete(t)}):function(){}}(t,(function(){e.prefetch()}))))}},{key:"prefetch",value:function(){if(this.p){var t=this.getHref();p.default.prefetch(t),y[t]=!0}}},{key:"render",value:function(){var t=this,e=this.props.children,n=this.formatUrls(this.props.href,this.props.as),r=n.href,o=n.as;"string"===typeof e&&(e=d.default.createElement("a",null,e));var a=d.Children.only(e),i={ref:function(e){t.handleRef(e),a&&"object"===typeof a&&a.ref&&("function"===typeof a.ref?a.ref(e):"object"===typeof a.ref&&(a.ref.current=e))},onMouseEnter:function(e){a.props&&"function"===typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),t.prefetch()},onClick:function(e){a.props&&"function"===typeof a.props.onClick&&a.props.onClick(e),e.defaultPrevented||t.linkClicked(e)}};return!this.props.passHref&&("a"!==a.type||"href"in a.props)||(i.href=o||r),d.default.cloneElement(a,i)}}]),e}(d.Component);e.default=O},d04V:function(t,e,n){t.exports=n("0tVQ")},dEVD:function(t,e,n){var r=n("Y7ZC"),o=n("XWtR");r(r.G+r.F*(parseInt!=o),{parseInt:o})},dL40:function(t,e,n){var r=n("Y7ZC");r(r.P+r.R,"Set",{toJSON:n("8iia")("Set")})},dVTT:function(t,e,n){n("aPfg")("Map")},dfwq:function(t,e,n){"use strict";var r=n("p0XB"),o=n.n(r);var a=n("d04V"),i=n.n(a),u=n("yLu3"),s=n.n(u);function c(t){return function(t){if(o()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(s()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return i()(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",(function(){return c}))},doui:function(t,e,n){"use strict";var r=n("p0XB"),o=n.n(r);var a=n("XXOK"),i=n.n(a),u=n("yLu3"),s=n.n(u);function c(t,e){return function(t){if(o()(t))return t}(t)||function(t,e){if(s()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,o=!1,a=void 0;try{for(var u,c=i()(t);!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"a",(function(){return c}))},fGSI:function(t,e,n){var r=n("p0XB");t.exports=function(t){if(r(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},g33z:function(t,e,n){"use strict";var r=n("Wu5q"),o=n("n3ko");t.exports=n("raTm")("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(o(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(o(this,"Map"),0===t?0:t,e)}},r,!0)},hYAz:function(t,e,n){n("7m0m"),t.exports=n("WEpk").Object.getOwnPropertyDescriptors},kOwS:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("UXZV"),o=n.n(r);function a(){return(a=o.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}},lwAK:function(t,e,n){"use strict";var r=n("hfKm"),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};r(e,"__esModule",{value:!0});var a=o(n("q1tI"));e.AmpStateContext=a.createContext({})},nZgG:function(t,e,n){var r=n("Y7ZC");r(r.S+r.F*!n("jmDH"),"Object",{defineProperties:n("fpC5")})},o8NH:function(t,e,n){var r=n("Y7ZC");r(r.S+r.F,"Object",{assign:n("kwZ1")})},oJTh:function(t,e,n){"use strict";var r=n("0iUn"),o=n("sLSF"),a=n("MI3g"),i=n("a7VT"),u=n("AT/M"),s=n("Tit0"),c=n("q1tI"),l=n.n(c),f=n("YFqc"),h=n.n(f),d=n("nOHt"),p=n.n(d),v=l.a.createElement,b=function(t,e){if(!(t instanceof e))throw new Error("Bound instance method accessed before binding")};e.a=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(a.a)(this,Object(i.a)(e).call(this,t))).handleRowsChange=n.handleRowsChange.bind(Object(u.a)(n)),n.handleColumnsChange=n.handleColumnsChange.bind(Object(u.a)(n)),n.handleBombsChange=n.handleBombsChange.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.state={rows:null,columns:null,bombs:null},n}return Object(s.a)(e,t),Object(o.a)(e,[{key:"handleRowsChange",value:function(t){return b(this,e),this.setState({rows:t.target.value})}},{key:"handleColumnsChange",value:function(t){return b(this,e),this.setState({columns:t.target.value})}},{key:"handleBombsChange",value:function(t){return b(this,e),this.setState({bombs:t.target.value})}},{key:"handleSubmit",value:function(t){var n,r,o,a;b(this,e),t.preventDefault();var i=this.currentValues();return a=i.rows,r=i.columns,n=i.bombs,o="/?rows=".concat(a,"&columns=").concat(r,"&bombs=").concat(n),p.a.push(o,"/shitty-minesweeper"+o)}},{key:"currentValues",value:function(){var t,e,n,r=this.state;return n=r.rows,e=r.columns,t=r.bombs,null==n&&(n=this.props.rows),null==e&&(e=this.props.columns),t||(t=n&&e?Math.round(n*e*.18):""),{rows:n,columns:e,bombs:t}}},{key:"render",value:function(){var t,e,n,r,o;n=this.props.onClose;var a=this.currentValues();return o=a.rows,e=a.columns,t=a.bombs,r="".concat("/shitty-minesweeper","/"),v("section",{id:"settings"},v("h1",null,"Settings",v("button",{className:"close",onClick:n},"\u2715")),v("form",{onSubmit:this.handleSubmit},v("fieldset",null,v("legend",null,"Board size"),v("div",{className:"field"},v("label",{htmlFor:"rows"},"Rows: "),v("input",{id:"rows",name:"rows",type:"number",value:o,onChange:this.handleRowsChange})),v("div",{className:"field"},v("label",{htmlFor:"columns"},"Columns: "),v("input",{id:"columns",name:"columns",type:"number",value:e,onChange:this.handleColumnsChange})),v("div",{className:"field"},v("label",{htmlFor:"bombs"},"Bombs: "),v("input",{id:"bombs",name:"bombs",type:"number",value:t,onChange:this.handleBombsChange})),v("div",{className:"actions"},v(h.a,{href:"/",as:r},v("a",null,"Use defaults")),v("button",null,"Save")))))}}]),e}(c.Component)},oc46:function(t,e,n){var r=n("Y7ZC"),o=n("Jes0"),a=n("KUxP"),i=n("5pKv"),u="["+i+"]",s=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),l=function(t,e,n){var o={},u=a((function(){return!!i[t]()||"\u200b\x85"!="\u200b\x85"[t]()})),s=o[t]=u?e(f):i[t];n&&(o[n]=s),r(r.P+r.F*u,"String",o)},f=l.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(s,"")),2&e&&(t=t.replace(c,"")),t};t.exports=l},"oh+g":function(t,e,n){var r=n("WEpk"),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},sLSF:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("hfKm"),o=n.n(r);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}function i(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}},ttDY:function(t,e,n){t.exports=n("+iuc")},uekQ:function(t,e,n){n("dEVD"),t.exports=n("WEpk").parseInt},uplh:function(t,e,n){var r=n("ar/p"),o=n("mqlF"),a=n("5K7Z"),i=n("5T2Y").Reflect;t.exports=i&&i.ownKeys||function(t){var e=r.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},vYYK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("hfKm"),o=n.n(r);function a(t,e,n){return e in t?o()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},"x+Gp":function(t,e,n){"use strict";(function(t){var r=n("hfKm"),o=n.n(r),a=n("2Eek"),i=n.n(a),u=n("XoMD"),s=n.n(u),c=n("Jo+v"),l=n.n(c),f=n("4mXO"),h=n.n(f),d=n("pLtp"),p=n.n(d),v=n("kOwS"),b=n("9Jkg"),m=n.n(b),g=n("vYYK"),y=n("0iUn"),w=n("sLSF"),O=n("MI3g"),k=n("a7VT"),S=n("AT/M"),j=n("Tit0"),C=n("q1tI"),E=n.n(C),_=n("8Kt/"),x=n.n(_),A=n("FZuZ"),T=n("Gqi+"),M=n("oJTh"),D=(n("GNBN"),E.a.createElement);function F(t,e){var n=p()(t);if(h.a){var r=h()(t);e&&(r=r.filter((function(e){return l()(t,e).enumerable}))),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach((function(e){Object(g.a)(t,e,n[e])})):s.a?i()(t,s()(n)):F(Object(n)).forEach((function(e){o()(t,e,l()(n,e))}))}return t}var I=function(t,e){if(!(t instanceof e))throw new Error("Bound instance method accessed before binding")};e.a=function(e){function n(){var t;return Object(y.a)(this,n),(t=Object(O.a)(this,Object(k.a)(n).call(this))).handleRestart=t.handleRestart.bind(Object(S.a)(t)),t.handleStart=t.handleStart.bind(Object(S.a)(t)),t.handleFlagToggle=t.handleFlagToggle.bind(Object(S.a)(t)),t.handleFlagAdded=t.handleFlagAdded.bind(Object(S.a)(t)),t.handleFlagRemoved=t.handleFlagRemoved.bind(Object(S.a)(t)),t.handleDeath=t.handleDeath.bind(Object(S.a)(t)),t.handleWin=t.handleWin.bind(Object(S.a)(t)),t.handleViewSettingsClick=t.handleViewSettingsClick.bind(Object(S.a)(t)),t.handleCloseSettings=t.handleCloseSettings.bind(Object(S.a)(t)),t.initialState={started:!1,flagging:!1,foundBombs:0,dead:!1,startedAt:null,endedAt:null,won:!1,best:null,settings:!1},t.state=R({},t.initialState),t}return Object(j.a)(n,e),Object(w.a)(n,[{key:"componentDidMount",value:function(){return this.setState({best:this.best()})}},{key:"handleRestart",value:function(){return I(this,n),this.setState(R({},this.initialState,{best:this.best()}))}},{key:"handleStart",value:function(t){return I(this,n),this.setState({started:!0,startedAt:t})}},{key:"handleFlagToggle",value:function(){return I(this,n),this.setState((function(t){return{flagging:!t.flagging}}))}},{key:"handleFlagAdded",value:function(){return I(this,n),this.setState((function(t){return{foundBombs:t.foundBombs+1}}))}},{key:"handleFlagRemoved",value:function(){return I(this,n),this.setState((function(t){return{foundBombs:t.foundBombs-1}}))}},{key:"handleDeath",value:function(){return I(this,n),this.setState({dead:!0,endedAt:new Date})}},{key:"storage",value:function(){return t.localStorage||{}}},{key:"handleWin",value:function(){var t;return I(this,n),t=new Date,this.saveTime(t),this.setState({won:!0,endedAt:t,best:this.best()})}},{key:"saveTime",value:function(t){var e,n,r,o,a,i,u=this.props;return i=u.rows,n=u.columns,e=u.bombs,r={startedAt:this.state.startedAt,endedAt:t},(a=this.records())[o="".concat(i,"x").concat(n,"_").concat(e)]||(a[o]=[]),a["".concat(i,"x").concat(n,"_").concat(e)].push(r),this.storage().shittyMinesweeper=m()(a)}},{key:"records",value:function(){var t,e,n;if(!this.storage().shittyMinesweeper)return{};for(n in e=JSON.parse(this.storage().shittyMinesweeper),e)(t=e[n]).forEach((function(t){var e;return t.startedAt=new Date(Date.parse(t.startedAt)),t.endedAt=new Date(Date.parse(t.endedAt)),e=t.endedAt-t.startedAt,t.elapsed=Math.round(e/1e3)})),t.sort((function(t,e){return t.elapsed-e.elapsed}));return e}},{key:"best",value:function(){var t,e,n,r=this.props;return n=r.rows,e=r.columns,t=r.bombs,(this.records()["".concat(n,"x").concat(e,"_").concat(t)]||[])[0]}},{key:"handleViewSettingsClick",value:function(){return I(this,n),this.setState({settings:!0})}},{key:"handleCloseSettings",value:function(){return I(this,n),this.setState({settings:!1})}},{key:"render",value:function(){var t,e,n,r,o,a,i,u,s,c,l,f,h=this.state;c=h.started,l=h.startedAt,o=h.endedAt,a=h.flagging,i=h.foundBombs,r=h.dead,f=h.won,t=h.best,s=h.settings;var d=this.props;return u=d.rows,n=d.columns,e=d.bombs,D(C.Fragment,null,D(x.a,null,D("title",null,"Shitty Minesweeper"),D("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})),s?D(M.a,Object(v.a)({},this.props,{onClose:this.handleCloseSettings})):D(C.Fragment,null,D("button",{id:"view-settings",onClick:this.handleViewSettingsClick},"\u2699\ufe0f"),D(A.a,{bombs:e,foundBombs:i,startedAt:l,endedAt:o,flagging:a,dead:r,won:f,best:t,onRestart:this.handleRestart,onFlagToggle:this.handleFlagToggle}),D(T.a,{flagging:a,rows:u,columns:n,bombs:e,started:c,won:f,onFlagAdded:this.handleFlagAdded,onStart:this.handleStart,onFlagRemoved:this.handleFlagRemoved,onDeath:this.handleDeath,onWin:this.handleWin})))}}]),n}(C.Component)}).call(this,n("yLpj"))},xvv9:function(t,e,n){n("cHUd")("Set")}},[["6mSP",1,2,0,8]]]);